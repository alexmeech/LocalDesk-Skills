# Инструкция по развертыванию маркетплейса на GitHub Pages

## Шаг 1: Подготовка репозитория

Убедитесь, что все файлы маркетплейса находятся в папке `docs/`:
- `docs/index.html` - главная страница маркетплейса
- `docs/_config.yml` - конфигурация Jekyll
- `docs/README.md` - описание маркетплейса

## Шаг 2: Настройка GitHub Actions

Workflow файл уже создан в `.github/workflows/pages.yml`. Он автоматически:
1. Отслеживает изменения в ветке `main`
2. Собирает сайт из папки `docs/`
3. Деплоит на GitHub Pages

## Шаг 3: Включение GitHub Pages в настройках репозитория

1. Откройте репозиторий на GitHub: https://github.com/vakovalskii/LocalDesk-Skills
2. Перейдите в **Settings** → **Pages**
3. В разделе **Source** выберите:
   - **Source**: GitHub Actions
4. Сохраните настройки

## Шаг 4: Коммит и пуш

```bash
cd LocalDesk-Skills
git add .
git commit -m "Add Skills Marketplace with dynamic loading"
git push origin main
```

## Шаг 5: Проверка деплоя

1. Перейдите в **Actions** в вашем репозитории
2. Дождитесь завершения workflow "Deploy GitHub Pages"
3. После успешного деплоя сайт будет доступен по адресу:
   **https://vakovalskii.github.io/LocalDesk-Skills/**

## Автоматическое обновление

После настройки каждый пуш в ветку `main` будет автоматически:
- Пересобирать сайт
- Деплоить изменения на GitHub Pages
- Обновлять список скиллов (загружаются динамически через API)

## Добавление нового навыка

Чтобы добавить новый навык:

1. Создайте папку в `skills/new-skill-name/`
2. Добавьте файл `SKILL.md` с метаданными:
```markdown
---
name: new-skill-name
description: Описание вашего навыка
license: Apache 2.0
---

# Содержимое навыка
...
```

3. (Опционально) Добавьте категорию в `categoryMap` в `docs/index.html`:
```javascript
const categoryMap = {
    // ... существующие категории
    'new-skill-name': 'Категория',
};
```

4. Коммит и пуш - навык автоматически появится на сайте!

## Проверка локально

Перед деплоем можно проверить сайт локально:

```bash
cd LocalDesk-Skills/docs
python -m http.server 8000
```

Откройте браузер: http://localhost:8000

## Возможные проблемы

### Проблема: GitHub Pages не активируется

**Решение**: 
- Убедитесь, что в настройках репозитория выбран **Source: GitHub Actions**
- Проверьте, что workflow файл находится в `.github/workflows/pages.yml`

### Проблема: Навыки не загружаются

**Решение**:
- Проверьте консоль браузера (F12) на наличие ошибок
- Убедитесь, что репозиторий публичный (GitHub API требует аутентификацию для приватных репозиториев)
- Проверьте правильность констант в `docs/index.html`:
  ```javascript
  const GITHUB_REPO = 'vakovalskii/LocalDesk-Skills';
  const BRANCH = 'main';
  ```

### Проблема: CORS ошибки при локальном тестировании

**Решение**:
- Используйте локальный HTTP сервер (не открывайте HTML файл напрямую)
- Для production версии CORS ошибок не будет

## Поддержка и обновления

Маркетплейс автоматически подхватывает новые навыки из репозитория. Не требуется:
- Ручное обновление каталога
- Пересборка сайта при добавлении навыков
- Редактирование JSON файлов

Все данные загружаются динамически через GitHub API!
